修订历史:

修改或初始编写日期、 SEPG、 版本、 说明、 作者、 评审时间、 评审参与人员、 评审后修改批准日期、确认签字人员

| 编写日期   | SEPG | 版本 | 说明                              | 作者   | 评审时间 | 参与人员 | 批准日期 | 确认人员 |
| ---------- | ---- | ---- | --------------------------------- | ------ | -------- | -------- | -------- | -------- |
| 2021/11/24 | GF   | 0.1  | 文档框架搭建                      | 杨晶   |          |          |          |          |
| 2021/11/28 | GF   | 0.2  | 功能需求和非功能需求编写          | 李文研 |          |          |          |          |
| 2021/11/30 | GF   | 0.3  | 引言 、运行环境和需求跟踪管理撰写 | 杨晶   |          |          |          |          |
|            | GF   | 1.0  | 定稿校对                          |        |          |          |          |          |

# 1.引言 

## 1.1. 背景

珠江三角洲水资源配置工程是国务院部署的172项节水供水重大水利工程之一，工程输水线路总长113.1千米，计划总投资约354亿元，是迄今为止广东省历史上投资额最大、输水线路最长、受水区域最广的水资源调配工程。（援引国家发改委、生态环境部、水利部、中国水利报、南方日报等官方渠道） 

此项配置工程西起西江干流佛山顺德鲤鱼洲，东至深圳公明水库，中间以深层管道输水方式穿越粤港澳大湾区核心城市群。工程线路全长113.2公里，设计年供水量17.08亿立方米，整个工程设有3个输水泵站，目前全线地下有36台盾构机同时掘进施工。

按照计划，珠三角水资源配置工程将于2024年建成通水，届时将有效解决广州、深圳、东莞生活生产缺水问题，并为香港等地提供应急备用水源，构建粤港澳大湾区各城市多水源保障体系，为粤港澳大湾区的建设发展提供战略支撑。

本数据可视化系统，与珠江三角洲水资源配置数据管理系统及其业务子系统深度结合，间距顶级视觉效果和高性能操控。系统集成了工程介绍、掘进参数信息展示、机器学习展示分析的需求，为提升工程管理人员的效率和精准决策提供支撑。

## 1.2. 参考资料







## 1.3. 假定和约束







## 1.4. 用户的特点

本项目主要面对珠三角水资源配置计划的施工人员。尤其是以下人群是本可视化系统的受众：

- 工程管理人员——用来监控配置工程的现场进度，了解不同优化模型。
- 工程施工人员——用来通过获取优化结果进一步调节各个施工参数。
- 普通群众——用来了解珠江三角洲水资源配置工程的概况。



# 2. 功能需求  

## 2.1. 系统范围

​		本系统面向珠三角水资源配置工程，将泥水平衡地下盾构有关工程数据进行可视化展示，包括PLC系统采集的数据、掘进参数优化模型分析结果、泥水仓压力控制参数优化模型分析结果。相关数据由前端通过接口直接获取。

​		本系统的目标用户为泥水平衡地下盾构工程的数据监测人员。

## 2.2. 系统体系结构

​		本项目的架构细化如下图 。 系统被具体细分为四个层 ：应用层（ApplicationLayer）、业务层（ServiceLayer）、数据层（DataLayer）以及服务层（ServerLayer）。
​		在应用层方面，其主要包含了当前web前端的技术需求。PC端主要采用Vue框架，并通过ElementUI、DataV、ECharts等组件库构造快速动态的大屏数据展示页面，通过axios发送http请求。无论是用户还是管理者，均通过应用层提供的Web 服务器使用本平台所提供的功能，发送的信息将被统一转化为JSON格式的数据发送到服务层。
​		在业务层中，本层的接口按照对应的子系统进行划分为：账户管理。之后随着业务需求更新可增加其他业务子系统。
​		在数据层中，我们主要实现的是本平台数据库的访问和配置。访问的方式主要为JDBC，并且我们使用 Java 中的 ORM 框架 MyBatis 简化代码，提高开发效率。而底层数据库则包含了关系型数据库 MySQL，在服务层，我们基于SpringBoot进行开发。

（粘贴系统体系结构.png）

## 2.3. 系统总体流程 (或层次结构图)

​		用户在使用本系统时，首先需要通过登录的身份认证，经过账号管理系统的账户审核后才获得进入系统的权限，能进入本项目的网站首页，用户可自由选择浏览本系统的业务介绍，也可选择退出或者进入数据概况展示系统、机器学习分析结果展示系统。在数据概况展示系统，用户可浏览系统采集的数据，并根据时间进行筛选；在机器学习分析结果展示系统，用户可查看每一环掘进参数优化模型分析结果、泥水仓压力控制参数优化模型分析结果，并进行特定环号的筛选。

（粘贴系统总体流程.png）

## 2.4. 需求分析建模 

### 2.4.1. XXXXXXX(用例模型)

建立用例模型：发现角色和用例，并确定角色之间的关系、用例之间的关系，以及角色与用例之间的相互关系；描述用例：角色与系统如何交互的规格说明。
以文本的方式描述每一个用例中角色与系统相互交互的规格说明。

1、 XXXXXX(用例名称)
描述对象：描述内容
标识符：用例的唯一标识符
说明：对用例的概要说明
参与者：与该用例相关的参与者列表，以及参与者的特点
频度：参与者访问此用例的频率
状态：通常分为：进行中、等待审查、通过审查或未通过审查
前置条件：一个条件列表，如果其中包含条件，则这些条件必须在访问用例之前得到满足
后置条件：一个条件列表，如果其中包含条件，则这些条件将在用例成功完成以后得到满足
被扩展的用例：此用例所扩展的用例（如果存在）
被包含的用例：此用例所包含的用例（如果存在）
基本操作流程：参与者在用例中所遵循的主逻辑路径，即当各项工作都正常进行时用例的工作方式
可选操作流程：在变更工作方式、出现异常或发生错误的情况下所遵循的路径。

### 2.4.2. XXXXXXX(功能建模) 

根据DFD图（流程图）和（或）活动图的要求分层创建，需要有对应的文字描述。

### 2.4.3. XXXXXXX(数据建模)

根据类图或ERD（ER图）和（或）协作图的要求分层创建，需要有对应的文字描述。

### 2.4.4. XXXXXXX(行为建模)

根据状态图和（或）顺序图的要求分层创建，需要有对应的文字描述。



# 3. 非功能需求（3.1.3需补充） 

## 3.1. 性能要求 

### 3.1.1. 精度 

​		在进行操作请求时，用户必须保证输入数据的精确、可靠和真实，如登陆注册时所填写的账号、邮箱、密码等必须与数据库中设定的数据格式一致；机器学习界面筛选分析环号时，应当输入精确到小数点后一位的环号序号。

​		在满足用户请求时，本系统应保证所响应数据的查全率和查准率，如机器学习分析界面的数据展示，应当显示所有分析环号和所有模型的输入输出参数，并根据用户选择的分析环号准确地展示对应数据。

### 3.1.2. 时间特性要求 

​		系统在任意时刻都能够支持5000名用户同时使用，2000名用户对平台服务器进行访问。系统至少支持每秒万次的事物查询，需要在5秒内响应多个用户各功能请求（登录、筛选信息等）。

​		为满足用户高效使用要求，系统的数据更新处理时间、数据转换与传输时间、运行时间都应当控制在1-2秒之内，涉及向接口请求数据和公开页面跳转时，响应时间与用户使用环境的网速相关，可能较长，但系统尽量将涉及自己处理的部分控制在可接受范围之内，在数据尚未完全接收时仍有页面呈现。

### 3.1.3. 输入输出要求 

解释各输入输出数据类型，并逐项说明其媒体、格式、数值范围、精度等。对软件的数据输出及必须标明的控制输出量进行解释并举例，包括对硬拷贝报告（正常结果输出、状态输出及异常输出）以及图形或显示报告的描述。

（1）登陆模块

| 输入输出类型 | 数据名 | 类型   | 数值范围       | 说明                                                         |
| ------------ | ------ | ------ | -------------- | ------------------------------------------------------------ |
| 输入         | 账号   | String | 3 到 10 个字符 | 本数据为用户登录系统所必须填写的账户名信息，需要与注册时填写的数据一致。 |
| 输入         | 密码   | String | 6 到 15 个字符 | 本数据为用户登录系统所必须填写的账号对应的密码信息，需要与注册时填写的数据一致。 |
| 输入         | 验证码 | String | 4位            | 本数据为用户登录系统所必须填写的信息，需要与系统随机生成的验证码一致。 |

（2）注册模块

| 输入输出类型 | 数据名 | 类型   | 数值范围       | 说明                                                         |
| ------------ | ------ | ------ | -------------- | ------------------------------------------------------------ |
| 输入         | 账号   | String | 3 到 10 个字符 | 本数据为用户在本系统进行注册所必须填写的账户名信息，不能与其他用户重复。 |
| 输入         | 密码   | String | 6 到 15 个字符 | 本数据为用户在本系统进行注册所必须填写的账号对应的密码信息，需要包含字母和数字。 |
| 输入         | 验证码 | String | 4位            | 本数据为用户在本系统进行注册所必须填写的信息，需要与系统随机生成的验证码一致。 |
| 输入         | 邮箱   | String | 非空           | 本数据为用户在本系统进行注册所必须填写的账号对应的邮箱信息，需为有效邮箱并能接收验证码。 |

（3）数据概况模块





（4）机器学习分析模块

| 输入输出类型 | 数据名                   | 类型   | 数值范围 | 说明                                                         |
| ------------ | ------------------------ | ------ | -------- | ------------------------------------------------------------ |
| 输入         | 展示环号                 | String | -        | 本数据为用户在选择展示环号时输入的环号信息，需保留一位小数且保证该分析环号有效，默认为最新一环。 |
| 输出         | 模型输入参数             | 数组   | 非空     | 本数据为用户获取到的对应环号的机器学习分析输入参数信息。     |
| 输出         | 掘进参数优化建议结果     | 数组   | 非空     | 本数据为用户获取到的对应环号掘进参数优化模型的优化建议结果。 |
| 输出         | 压力控制参数优化建议结果 | 数组   | 非空     | 本数据为用户获取到的对应环号泥水仓压力控制参数优化模型的优化建议结果。 |

## 3.2. 数据管理能力要求 

​		本系统后台需要管理的数据为系统用户信息资料数据，包括用户账号ID、用户名、电子邮箱、密码。以系统任意时刻都能够支持5000名用户同时使用来估算，至少需要保存5000个用户记录。

## 3.3. 安全及保密性要求

​        安全性主要包括权限控制，记录日志，数据备份和数据隐私。

​		本系统需要准确认证用户是其所声称的身份，确保对其只提供其被授权的功能。系统需要有一个独立的数据库存储内部发生的事件，这个数据库只有管理员及被其给予权限的人才能访问。本系统能够记录系统运行时所发生的所有错误，包括本机错误和网络错误。这些错误记录便于查找错误的原因。日志同时记录用户的关键性操作信息。更进一步，要保护系统免受包括SQL注入式攻击、URL攻击、CSRF攻击在内的各种网络攻击，同时也应采取一些措施来建立反爬虫机制。对一些重要数据的传输通过加密算法完成，如用户口令、重要参数等。

## 3.4. 灵活性要求 

### 3.4.1 应对需求变化或改进的可拓展性

​        随着过程的进行与发展，泥水盾构机使用的规模将有可能越来越大，本可视化平台的业务也会越来越多样化。为了适应这种发展趋势，我们的系统应该设计成低耦合，模块化。同时为外部系统提供可拓展的数据接口。

### 3.4.2 运行环境的可移植性

​        本系统应该具有一定的跨平台能力和较高的容错能力，尽可能考虑到运行条件的变化，包括网络条件、硬件条件，软件系统平台条件。比如在不同浏览器、不同版本浏览器中界面的变化，不同平台上功能的剪裁等。      

## 3.5. 其他专门要求 

### 3.5.1 可维护性

​        在工程开发过程中，数据数量和用户数量会逐渐增长。本系统应该在任何时期都保持较高的适应能力和容错能力。在系统不可避免地遇到错误需要维护时，系统应尽可能地保留错误日志与操作记录，便于复现错误和修正漏洞。

### 3.5.2 易读性

​        系统应该有一套对用户友好的 UI，便于用户操作使用。 图形界面的文字和按钮应该简洁易懂，不给用户造成困扰。





# 4. 运行环境规定 

## 4.1. 设备 



## 4.2. 支持软件 



## 4.3. 接口 



## 4.4. 控制 



# 5. 需求跟踪管理 









# 附录 